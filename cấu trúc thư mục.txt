bookstore-api/
â”œâ”€â”€ .env
â”œâ”€â”€ package.json
â”œâ”€â”€ server.js
â””â”€â”€ src/
    â”œâ”€â”€ config/
    â”‚   â””â”€â”€ connectDB.js
    â”‚
    â”œâ”€â”€ controllers/
    â”‚   â”œâ”€â”€ authController.js			// Xá»­ lÃ½ logic ÄÄƒng kÃ½, ÄÄƒng nháº­p.
    â”‚   â”œâ”€â”€ cartController.js			//Xá»­ lÃ½ logic Quáº£n lÃ½ Giá» hÃ ng.
    â”‚   â”œâ”€â”€ categoryController.js		//Xá»­ lÃ½ logic Quáº£n lÃ½ Danh má»¥c.
    â”‚   â”œâ”€â”€ comboController.js			//Xá»­ lÃ½ logic Quáº£n lÃ½ Combo.
    â”‚   â”œâ”€â”€ dashboardController.js		//Xá»­ lÃ½ logic Thá»‘ng kÃª, BÃ¡o cÃ¡o cho trang Admin.
    â”‚   â”œâ”€â”€ ebookController.js			//Xá»­ lÃ½ logic Quáº£n lÃ½ vÃ  Táº£i E-book.
    â”‚   â”œâ”€â”€ orderController.js			// Xá»­ lÃ½ logic Quáº£n lÃ½ ÄÆ¡n hÃ ng
    â”‚   â”œâ”€â”€ productController.js		// Xá»­ lÃ½ logic Quáº£n lÃ½ Sáº£n pháº©m, bao gá»“m cáº£ tÃ¬m kiáº¿m, lá»c, sáº¯p xáº¿p, phÃ¢n trang, vÃ  export Excel.
    â”‚   â”œâ”€â”€ promotionController.js		//Xá»­ lÃ½ logic Quáº£n lÃ½ Khuyáº¿n mÃ£i vÃ  Ã¡p dá»¥ng mÃ£.
    â”‚   â”œâ”€â”€ reviewController.js			//Xá»­ lÃ½ logic Quáº£n lÃ½ ÄÃ¡nh giÃ¡, BÃ¬nh luáº­n.
    â”‚   â”œâ”€â”€ slideshowController.js		//Xá»­ lÃ½ logic Quáº£n lÃ½ Slideshow.
    â”‚   â””â”€â”€ userController.js			//Xá»­ lÃ½ logic Quáº£n lÃ½ NgÆ°á»i dÃ¹ng (cá»§a Admin).
    â”‚
    â”œâ”€â”€ middlewares/
    â”‚   â””â”€â”€ authMiddleware.js
    â”‚
    â”œâ”€â”€ models/
    â”‚   â”œâ”€â”€ cartItemModel.js			//Äá»‹nh nghÄ©a cáº¥u trÃºc cho Giá» hÃ ng.
    â”‚   â”œâ”€â”€ cartModel.js				//Äá»‹nh nghÄ©a cáº¥u trÃºc cho Giá» hÃ ng.
    â”‚   â”œâ”€â”€ categoryModel.js			//Äá»‹nh nghÄ©a báº£ng danh_muc_sach.
    â”‚   â”œâ”€â”€ comboItemModel.js			//Äá»‹nh nghÄ©a cáº¥u trÃºc cho Combo sáº£n pháº©m.
    â”‚   â”œâ”€â”€ comboModel.js				//Äá»‹nh nghÄ©a cáº¥u trÃºc cho Combo sáº£n pháº©m.
    â”‚   â”œâ”€â”€ ebookDownloadLinkModel.js	// Äá»‹nh nghÄ©a cáº¥u trÃºc cho Link táº£i E-book.
    â”‚   â”œâ”€â”€ index.js					//  File trung tÃ¢m quáº£n lÃ½ cÃ¡c model vÃ  cÃ¡c má»‘i quan há»‡
    â”‚   â”œâ”€â”€ orderItemModel.js			//Äá»‹nh nghÄ©a cáº¥u trÃºc cho ÄÆ¡n hÃ ng.
    â”‚   â”œâ”€â”€ orderModel.js				//	Äá»‹nh nghÄ©a cáº¥u trÃºc cho ÄÆ¡n hÃ ng.
    â”‚   â”œâ”€â”€ productModel.js				//Äá»‹nh nghÄ©a báº£ng sach.
    â”‚   â”œâ”€â”€ promotionModel.js			//Äá»‹nh nghÄ©a cáº¥u trÃºc cho Khuyáº¿n mÃ£i
    â”‚   â”œâ”€â”€ reviewModel.js				//Äá»‹nh nghÄ©a cáº¥u trÃºc cho ÄÃ¡nh giÃ¡/BÃ¬nh luáº­n
    â”‚   â”œâ”€â”€ roleModel.js				//Äá»‹nh nghÄ©a báº£ng roles (vai trÃ²).
    â”‚   â”œâ”€â”€ slideshowModel.js			// Äá»‹nh nghÄ©a cáº¥u trÃºc cho Slide quáº£ng cÃ¡o.
    â”‚   â””â”€â”€ userModel.js 				// Äá»‹nh nghÄ©a báº£ng users
    â”‚
    â”œâ”€â”€ routes/
    â”‚   â”œâ”€â”€ authRouter.js				//Xá»­ lÃ½ logic ÄÄƒng kÃ½, ÄÄƒng nháº­p.
    â”‚   â”œâ”€â”€ cartRouter.js				//
    â”‚   â”œâ”€â”€ categoryRouter.js			//
    â”‚   â”œâ”€â”€ comboRouter.js				//
    â”‚   â”œâ”€â”€ dashboardRouter.js			//
    â”‚   â”œâ”€â”€ ebookRouter.js				//
    â”‚   â”œâ”€â”€ orderRouter.js				//
    â”‚   â”œâ”€â”€ productRouter.js			//
    â”‚   â”œâ”€â”€ promotionRouter.js			//
    â”‚   â”œâ”€â”€ reviewRouter.js				//
    â”‚   â”œâ”€â”€ slideshowRouter.js			//
    â”‚   â””â”€â”€ userRouter.js				//Xá»­ lÃ½ logic Quáº£n lÃ½ NgÆ°á»i dÃ¹ng (cá»§a Admin).
    â”‚
    â”œâ”€â”€ services/
    â”‚   â””â”€â”€ emailService.js
    â”‚
    â””â”€â”€ utils/
        â””â”€â”€ generateToken.js
		Giáº£i thÃ­ch chi tiáº¿t chá»©c nÄƒng tá»«ng file
ThÆ° má»¥c gá»‘c (/)
ğŸ“„ **.env**: File biáº¿n mÃ´i trÆ°á»ng. LÆ°u trá»¯ cÃ¡c thÃ´ng tin cáº¥u hÃ¬nh nháº¡y cáº£m mÃ  khÃ´ng Ä‘Æ°a trá»±c tiáº¿p vÃ o code, vÃ­ dá»¥: thÃ´ng tin káº¿t ná»‘i CÆ¡ sá»Ÿ dá»¯ liá»‡u (host, user, password, database), chuá»—i bÃ­ máº­t Ä‘á»ƒ mÃ£ hÃ³a Token (JWT_SECRET), cá»•ng cháº¡y server (PORT), thÃ´ng tin tÃ i khoáº£n email Ä‘á»ƒ gá»­i mail (EMAIL_USER, EMAIL_PASSWORD).

ğŸ“„ **package.json**: File quáº£n lÃ½ dá»± Ã¡n Node.js. Liá»‡t kÃª táº¥t cáº£ cÃ¡c thÆ° viá»‡n (dependencies) mÃ  dá»± Ã¡n sá»­ dá»¥ng (Express, Sequelize, JWT,...) vÃ  cÃ¡c script Ä‘á»ƒ cháº¡y dá»± Ã¡n (vÃ­ dá»¥: npm start, npm run dev).

ğŸ“„ **server.js**: Äiá»ƒm khá»Ÿi Ä‘áº§u cá»§a á»©ng dá»¥ng. Nhiá»‡m vá»¥ chÃ­nh lÃ :
Khá»Ÿi táº¡o server báº±ng Express.
Káº¿t ná»‘i Ä‘áº¿n CÆ¡ sá»Ÿ dá»¯ liá»‡u thÃ´ng qua connectDB.
Cáº¥u hÃ¬nh cÃ¡c middleware toÃ n cá»¥c (nhÆ° cors Ä‘á»ƒ cho phÃ©p frontend gá»i API, express.json() Ä‘á»ƒ Ä‘á»c dá»¯ liá»‡u JSON tá»« request).
"Gáº¯n" (Mount) táº¥t cáº£ cÃ¡c router tá»« thÆ° má»¥c /src/routes vÃ o cÃ¡c Ä‘Æ°á»ng dáº«n API gá»‘c (vÃ­ dá»¥: app.use('/api/users', userRouter)).
Láº¯ng nghe cÃ¡c request tá»« client trÃªn má»™t cá»•ng (PORT) Ä‘Ã£ Ä‘á»‹nh.
ThÆ° má»¥c src (Source Code)
ÄÃ¢y lÃ  nÆ¡i chá»©a toÃ n bá»™ mÃ£ nguá»“n cá»§a á»©ng dá»¥ng.

ğŸ“„ **connectDB.js**: Chá»‹u trÃ¡ch nhiá»‡m duy nháº¥t cho viá»‡c káº¿t ná»‘i vá»›i CÆ¡ sá»Ÿ dá»¯ liá»‡u PostgreSQL. NÃ³ Ä‘á»c cÃ¡c biáº¿n mÃ´i trÆ°á»ng tá»« file .env vÃ  khá»Ÿi táº¡o má»™t Ä‘á»‘i tÆ°á»£ng Sequelize, sau Ä‘Ã³ export Ä‘á»‘i tÆ°á»£ng nÃ y Ä‘á»ƒ toÃ n bá»™ á»©ng dá»¥ng cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ truy váº¥n CSDL.

ğŸ“„ **generateToken.js**: Chá»©a hÃ m tiá»‡n Ã­ch generateToken. HÃ m nÃ y nhá», Ä‘á»™c láº­p, nháº­n vÃ o id vÃ  role_id cá»§a ngÆ°á»i dÃ¹ng vÃ  táº¡o ra má»™t chuá»—i JSON Web Token (JWT). NÃ³ Ä‘Æ°á»£c sá»­ dá»¥ng láº¡i á»Ÿ cáº£ chá»©c nÄƒng Ä‘Äƒng kÃ½ vÃ  Ä‘Äƒng nháº­p.

ğŸ“„ **emailService.js**: Chá»©a logic nghiá»‡p vá»¥ liÃªn quan Ä‘áº¿n viá»‡c gá»­i email. NÃ³ cáº¥u hÃ¬nh dá»‹ch vá»¥ gá»­i mail (vÃ­ dá»¥: Gmail) vÃ  cung cáº¥p cÃ¡c hÃ m cá»¥ thá»ƒ nhÆ° sendOrderConfirmationEmail (gá»­i mail xÃ¡c nháº­n Ä‘Æ¡n hÃ ng). TÃ¡ch ra service giÃºp Controller gá»n gÃ ng hÆ¡n vÃ  dá»… dÃ ng tÃ­ch há»£p vá»›i cÃ¡c dá»‹ch vá»¥ bÃªn thá»© ba.

ğŸ“„ **authMiddleware.js**: Chá»©a cÃ¡c "lá»›p báº£o vá»‡" cho cÃ¡c API endpoint.
protect: Kiá»ƒm tra token JWT trong header cá»§a request Ä‘á»ƒ xÃ¡c thá»±c ngÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Äƒng nháº­p hay chÆ°a.
admin: Kiá»ƒm tra role_id cá»§a ngÆ°á»i dÃ¹ng (Ä‘Ã£ Ä‘Æ°á»£c protect xÃ¡c thá»±c) Ä‘á»ƒ phÃ¢n quyá»n, Ä‘áº£m báº£o chá»‰ Admin má»›i cÃ³ thá»ƒ truy cáº­p vÃ o cÃ¡c tÃ i nguyÃªn nháº¥t Ä‘á»‹nh.